# CVE-2022-22947

> [漏洞说明](https://tanzu.vmware.com/security/cve-2022-22947)
>
> 当启用、暴露和不安全的 Gateway Actuator 端点时，使用 Spring Cloud Gateway 的应用程序容易受到代码注入攻击。远程攻击者可以发出恶意制作的请求，允许在远程主机上进行任意远程执行。
> 
> 时间：2022-03-01
> 
> 影响框架、版本：
> - Spring Cloud Gateway
>   - 3.1.0
>   - 3.0.0 to 3.0.6
>   - Older, unsupported versions are also affected
> 
> 官方修复意见：
> - Spring Cloud Gateway
>   - 3.1.1+
>   - 3.0.7+
> - 如果不需要网关执行器端点
>   - management.endpoint.gateway.enabled: false
> - 如果需要网关执行器端点
>   - [则应使用 Spring Security 对其进行保护](https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.security)

# 本地复现截图

![gateway远程代码注入复现.gif](../../static/project/CVE%E5%A4%8D%E7%8E%B0/CVE-2022-22947/gateway%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%B3%A8%E5%85%A5%E5%A4%8D%E7%8E%B0.gif)